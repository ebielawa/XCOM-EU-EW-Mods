// EXALT Intel Tweak (for Long War with Dynamic War second wave option enabled) - by SpamoJones aka eclipse666
// Scales the number of EXALT clues if Dynamic War is enabled and the scaling value is less than 1.

//This script was generated by HexToPseudoCode decompiler for use with PatchUPK/PatcherGUI tool
UPK_FILE = XComStrategyGame.upk
OBJECT = XGExaltSimulation.GetCollectedClueCount : AUTO
[REPLACEMENT_CODE]

// dynamic war clue count adjustment...  (only for dynamic war < 1)
    07 [@notdw] 1B <IsOptionEnabled> 24 09 16 
		07 [@notdw] B0 12 20 <XComGame.XGTacticalGameCore> [@] <XComGame.XGTacticalGameCoreNativeBase.SW_MARATHON> 00 ( 02 <XComGame.XGTacticalGameCoreNativeBase.SW_MARATHON> ) 38 3F 26 16 
		
 04 
	fb // clamp
		38 44 // float to int
			AC // divide float/float
				38 3f // int to float
					19 1B <STORAGE> 16 [@] <XGStorage.GetNumItemsAvailable.ReturnValue> 00 ( 1B <GetNumItemsAvailable> 2C B5 16 ) 
				12 20 <XComGame.XGTacticalGameCore> [@] <XComGame.XGTacticalGameCoreNativeBase.SW_MARATHON> 00 ( 02 <XComGame.XGTacticalGameCoreNativeBase.SW_MARATHON> ) 
			16 
			
		2c 00
		36 01 <@m_arrClueText>
	16

[#notdw]

/*(0x0000/0x0000)*/ 04 
19 1B <STORAGE> 16 [@] <XGStorage.GetNumItemsAvailable.ReturnValue> 00 ( 1B <GetNumItemsAvailable> 2C B5 16 ) 
/*(0x0023/0x001F)*/ 04 3A <.ReturnValue> 
/*(0x002D/0x0025)*/ 53 
