MOD_NAME=Extra Slots for Psi/Gene/MEC Labs (basic version)
AUTHOR=XMarksTheSpot
DESCRIPTION=Allows configuration of arbitrary slot numbers for soldier psi-testing (Psi Labs), gene modding (Gene Labs) and augmentation (Cybernetics Labs)

// Tested on Long War beta 15d2 http://www.nexusmods.com/xcom/mods/88

// Use aliases defined below to specify the desired number of slots for soldier gene modding and augmentation.
// Psi labs slots are configured via the PSI_NUM_TRAINING_SLOTS parameter inside DefaultGameCore.ini

/* UnrealScript changes */
UPK_FILE=XComStrategyGame.upk

// change these to your desired slot counts
ALIAS=NumMecSlots:<%b 6>
ALIAS=NumGeneSlots:<%b 6>


// modify number of slots in soldier augmentation menu
OBJECT=XGCyberneticsUI.BuildTrainees:AUTO

[BEFORE_CODE]
// if(iSlot < 3)
07 D2 04 96 00 38 2D 00 00 2C 03 16 
[/BEFORE_CODE]

[AFTER_CODE]
// if(iSlot < NumMecSlots)
07 D2 04 96 00 38 2D 00 00 2C <!NumMecSlots> 16 
[/AFTER_CODE]


// modify number of slots in soldier gene modding menu
OBJECT=XGGeneLabUI.BuildTrainees:AUTO

[BEFORE_CODE]
// if(iSlot < 3)
07 F7 04 96 00 CE 3B 00 00 2C 03 16 
[/BEFORE_CODE]

[AFTER_CODE]
// if(iSlot < NumGeneSlots)
07 F7 04 96 00 CE 3B 00 00 2C <!NumGeneSlots> 16 
[/AFTER_CODE]



/* Flash movie changes */
UPK_FILE=UICollection_Strategy_SF.upk
OBJECT=gfxSoldierSlots.SoldierSlots:AUTO

// adjust size of embedded SoldierSlots Flash movie
[BEFORE_HEX]
// object header
AE 62 02 00 
// GFx header
47 46 58 08 
AE 62 02 00 
80 00 03 20 00 00 01 C2 00 00 1E 01 00 16 FA 6E 03 13 00 00 00 0D 00 00 0C 53 6F 6C 64 69 65 72 53 6C 6F 74 73 
[/BEFORE_HEX]

[AFTER_HEX]
// object header
97 63 02 00 
// GFx header
47 46 58 08 
97 63 02 00 
80 00 03 20 00 00 01 C2 00 00 1E 01 00 16 FA 6E 03 13 00 00 00 0D 00 00 0C 53 6F 6C 64 69 65 72 53 6C 6F 74 73 
[/AFTER_HEX]
// 0x262AE + 0xE9 = 0x26397

// modify SoldierSlotsList ActionScript class to auto-size list according to number of elements
[BEFORE_HEX]
FF 0E 6F 06 00 00 47 00 88 4F 02 33 00 5F 67 6C 6F 62 61 6C 00 53 6F 6C 64 69 65 72 53 6C 6F 74 73 4C 69 73 74 00 62 41 75 74 6F 53 69 7A 65 49 74 65 6D 73 00 6F 6E 49 74 65 6D 73 4C 6F 61 64 65 64 44 65 6C 65 67 61 74 65 00 61 6C 6C 49 74 65 6D 73 4C 6F 61 64 65 64 00 6D 78 00 75 74 69 6C 73 00 44 65 6C 65 67 61 74 65 00 63 72 65 61 74 65 00 58 43 6F 6D 4C 69 73 74 00 70 72 6F 74 6F 74 79 70 65 00 6F 6E 4C 6F 61 64 00 6C 69 73 74 49 74 65 6D 49 64 65 6E 74 69 66 69 65 72 00 53 6F 6C 64 69 65 72 53 6C 6F 74 73 4C 69 73 74 49 74 65 6D 4D 43 00 74 69 74 6C 65 00 5F 76 69 73 69 62 6C 65 00 73 74 61 74 75 73 54 69 74 6C 65 00 73 65 74 46 6F 63 75 73 00 6F 6E 49 74 65 6D 4C 6F 61 64 00 6C 65 66 74 54 6F 4C 6F 61 64 43 6F 75 6E 74 00 45 6E 76 69 72 6F 6E 6D 65 6E 74 00 69 6E 73 74 61 6E 63 65 00 49 73 4D 6F 75 73 65 41 63 74 69 76 65 00 66 6F 63 75 73 00 49 43 6F 6E 74 61 69 6E 65 72 49 74 65 6D 00 41 64 64 53 6C 6F 74 00 4F 62 6A 65 63 74 00 69 6E 69 74 4E 61 6D 65 00 69 6E 69 74 53 74 61 74 75 73 00 69 6E 69 74 42 75 74 74 6F 6E 4C 61 62 65 6C 00 69 6E 69 74 44 69 73 61 62 6C 65 64 00 69 6E 69 74 49 73 45 6D 70 74 79 53 6C 6F 74 00 6C 69 73 74 42 6F 78 00 69 74 65 6D 57 69 64 74 68 41 75 74 6F 73 69 7A 65 00 64 69 73 70 6C 61 79 57 69 64 74 68 00 69 74 65 6D 52 6F 6F 74 00 5F 78 00 6C 69 73 74 62 6F 78 00 49 54 45 4D 5F 52 49 47 48 54 5F 4D 41 52 47 49 4E 5F 50 41 44 44 49 4E 47 00 69 74 65 6D 73 00 67 65 74 4C 65 6E 67 74 68 00 6E 61 76 69 67 61 74 6F 72 00 61 64 64 4F 70 74 69 6F 6E 00 73 65 74 53 65 6C 65 63 74 65 64 00 61 64 64 00 53 65 74 54 69 74 6C 65 4C 61 62 65 6C 00 74 65 78 74 00 53 65 74 53 74 61 74 75 73 4C 61 62 65 6C 00 42 41 53 45 5F 42 47 5F 48 45 49 47 48 54 00 4D 41 53 4B 5F 57 49 44 54 48 5F 50 41 44 44 49 4E 47 00 41 53 53 65 74 50 72 6F 70 46 6C 61 67 73 00 96 02 00 08 00 1C 96 02 00 08 01 4E 12 12 9D 02 00 06 04 96 02 00 08 00 1C 96 02 00 08 01 8E 08 00 00 00 00 03 19 00 47 00 96 0C 00 06 00 00 00 00 00 00 00 00 04 02 03 52 17 96 06 00 04 01 08 02 05 01 4F 96 08 00 04 01 08 03 04 01 08 04 4E 96 09 00 04 01 07 02 00 00 00 08 05 1C 96 02 00 08 06 4E 96 02 00 08 07 4E 96 02 00 08 08 52 4F 87 01 00 01 4F 96 02 00 08 00 1C 96 02 00 08 01 4E 96 02 00 08 09 1C 69 96 04 00 04 01 08 0A 4E 87 01 00 02 17 96 04 00 04 02 08 0B 8E 08 00 00 00 00 03 19 00 3C 00 96 0D 00 06 00 00 00 00 00 00 00 00 04 02 08 0B 52 17 96 06 00 04 01 08 0C 08 0D 4F 96 04 00 04 01 08 0E 4E 96 04 00 08 0F 05 00 4F 96 04 00 04 01 08 10 4E 96 04 00 08 0F 05 00 4F 4F 96 04 00 04 02 08 11 8E 0C 00 00 01 00 03 1A 00 02 69 64 00 10 00 96 0B 00 04 02 07 01 00 00 00 04 01 08 11 52 17 4F 96 04 00 04 02 08 04 8E 08 00 00 00 00 02 29 00 0A 00 96 06 00 04 01 08 0F 05 01 4F 4F 96 04 00 04 02 08 12 8E 0E 00 00 01 00 04 19 00 03 69 74 65 6D 00 74 00 96 04 00 04 01 08 13 4E 96 05 00 07 01 00 00 00 0B 96 09 00 06 00 00 00 00 00 00 00 00 49 4C 12 9D 02 00 25 00 17 96 14 00 06 00 00 00 00 00 00 00 00 06 00 00 00 00 00 00 00 00 08 14 1C 96 02 00 08 15 52 96 02 00 08 16 52 12 9D 02 00 14 00 96 0F 00 04 01 08 17 06 00 00 00 00 00 00 00 00 08 18 40 4F 96 0B 00 04 03 07 01 00 00 00 04 02 08 12 52 17 4F 96 04 00 04 02 08 19 8E 4A 00 00 05 00 09 19 00 07 69 73 45 6D 70 74 79 53 6C 6F 74 00 05 73 6F 6C 64 69 65 72 4E 61 6D 65 00 06 73 6F 6C 64 69 65 72 53 74 61 74 75 73 00 08 62 75 74 74 6F 6E 4C 61 62 65 6C 00 04 69 73 44 69 73 61 62 6C 65 64 00 5E 01 96 0B 00 06 00 00 00 00 00 00 00 00 08 1A 40 87 01 00 03 17 96 06 00 04 03 08 1B 04 05 4F 96 06 00 04 03 08 1C 04 06 4F 96 06 00 04 03 08 1D 04 08 4F 96 06 00 04 03 08 1E 04 04 4F 96 06 00 04 03 08 1F 04 07 4F 96 06 00 04 03 08 20 04 01 4F 96 04 00 04 01 08 02 4E 12 9D 02 00 34 00 96 08 00 04 03 08 21 04 01 08 22 4E 96 04 00 04 01 08 23 4E 96 02 00 08 24 4E 96 04 00 04 01 08 25 4E 96 02 00 08 24 4E 0B 0B 96 04 00 04 01 08 26 4E 47 4F 96 0D 00 06 00 00 00 00 00 00 00 00 04 01 08 27 4E 96 02 00 08 28 52 4B 96 09 00 07 01 00 00 00 04 01 08 29 4E 96 02 00 08 2A 52 17 96 0D 00 06 00 00 00 00 00 00 00 00 04 01 08 29 4E 96 02 00 08 28 52 96 05 00 07 01 00 00 00 49 4C 12 9D 02 00 26 00 17 96 14 00 06 00 00 00 00 00 00 00 00 06 00 00 00 00 00 00 00 00 08 14 1C 96 02 00 08 15 52 96 02 00 08 16 52 12 12 9D 02 00 1D 00 96 12 00 06 00 00 00 00 00 00 00 00 07 01 00 00 00 04 01 08 29 4E 96 02 00 08 2B 52 17 96 0F 00 04 03 06 00 00 00 00 00 00 00 00 04 01 08 27 4E 96 02 00 08 28 52 4B 96 04 00 04 01 08 0C 4E 96 09 00 07 03 00 00 00 04 02 08 2C 52 17 4F 96 04 00 04 02 08 2D 8E 0F 00 00 01 00 03 29 00 02 6C 61 62 65 6C 00 20 00 96 04 00 04 01 08 0E 4E 96 04 00 08 2E 04 02 4F 96 04 00 04 01 08 0E 4E 96 04 00 08 0F 05 01 4F 4F 96 04 00 04 02 08 2F 8E 0F 00 00 01 00 03 29 00 02 6C 61 62 65 6C 00 20 00 96 04 00 04 01 08 10 4E 96 04 00 08 2E 04 02 4F 96 04 00 04 01 08 10 4E 96 04 00 08 0F 05 01 4F 4F 96 09 00 04 01 08 30 07 B2 02 00 00 4F 96 09 00 04 02 08 31 07 19 00 00 00 4F 96 08 00 07 01 00 00 00 02 08 00 1C 96 02 00 08 01 4E 96 02 00 08 0A 4E 96 07 00 07 03 00 00 00 08 32 3D 17 00 
[/BEFORE_HEX]
// 0x675

[AFTER_HEX]
FF 0E 58 07 00 00 47 00 88 5D 02 36 00 62 67 00 5F 68 65 69 67 68 74 00 5F 79 00 5F 67 6C 6F 62 61 6C 00 53 6F 6C 64 69 65 72 53 6C 6F 74 73 4C 69 73 74 00 62 41 75 74 6F 53 69 7A 65 49 74 65 6D 73 00 6F 6E 49 74 65 6D 73 4C 6F 61 64 65 64 44 65 6C 65 67 61 74 65 00 61 6C 6C 49 74 65 6D 73 4C 6F 61 64 65 64 00 6D 78 00 75 74 69 6C 73 00 44 65 6C 65 67 61 74 65 00 63 72 65 61 74 65 00 58 43 6F 6D 4C 69 73 74 00 70 72 6F 74 6F 74 79 70 65 00 6F 6E 4C 6F 61 64 00 6C 69 73 74 49 74 65 6D 49 64 65 6E 74 69 66 69 65 72 00 53 6F 6C 64 69 65 72 53 6C 6F 74 73 4C 69 73 74 49 74 65 6D 4D 43 00 74 69 74 6C 65 00 5F 76 69 73 69 62 6C 65 00 73 74 61 74 75 73 54 69 74 6C 65 00 73 65 74 46 6F 63 75 73 00 6F 6E 49 74 65 6D 4C 6F 61 64 00 6C 65 66 74 54 6F 4C 6F 61 64 43 6F 75 6E 74 00 45 6E 76 69 72 6F 6E 6D 65 6E 74 00 69 6E 73 74 61 6E 63 65 00 49 73 4D 6F 75 73 65 41 63 74 69 76 65 00 66 6F 63 75 73 00 49 43 6F 6E 74 61 69 6E 65 72 49 74 65 6D 00 41 64 64 53 6C 6F 74 00 4F 62 6A 65 63 74 00 69 6E 69 74 4E 61 6D 65 00 69 6E 69 74 53 74 61 74 75 73 00 69 6E 69 74 42 75 74 74 6F 6E 4C 61 62 65 6C 00 69 6E 69 74 44 69 73 61 62 6C 65 64 00 69 6E 69 74 49 73 45 6D 70 74 79 53 6C 6F 74 00 6C 69 73 74 42 6F 78 00 69 74 65 6D 57 69 64 74 68 41 75 74 6F 73 69 7A 65 00 64 69 73 70 6C 61 79 57 69 64 74 68 00 69 74 65 6D 52 6F 6F 74 00 5F 78 00 6C 69 73 74 62 6F 78 00 49 54 45 4D 5F 52 49 47 48 54 5F 4D 41 52 47 49 4E 5F 50 41 44 44 49 4E 47 00 69 74 65 6D 73 00 67 65 74 4C 65 6E 67 74 68 00 6E 61 76 69 67 61 74 6F 72 00 61 64 64 4F 70 74 69 6F 6E 00 73 65 74 53 65 6C 65 63 74 65 64 00 61 64 64 00 53 65 74 54 69 74 6C 65 4C 61 62 65 6C 00 74 65 78 74 00 53 65 74 53 74 61 74 75 73 4C 61 62 65 6C 00 42 41 53 45 5F 42 47 5F 48 45 49 47 48 54 00 4D 41 53 4B 5F 57 49 44 54 48 5F 50 41 44 44 49 4E 47 00 41 53 53 65 74 50 72 6F 70 46 6C 61 67 73 00 96 02 00 08 03 1C 96 02 00 08 04 4E 12 12 9D 02 00 E1 04 96 02 00 08 03 1C 96 02 00 08 04 8E 08 00 00 00 00 03 19 00 47 00 96 0C 00 06 00 00 00 00 00 00 00 00 04 02 03 52 17 96 06 00 04 01 08 05 05 01 4F 96 08 00 04 01 08 06 04 01 08 07 4E 96 09 00 04 01 07 02 00 00 00 08 08 1C 96 02 00 08 09 4E 96 02 00 08 0A 4E 96 02 00 08 0B 52 4F 87 01 00 01 4F 96 02 00 08 03 1C 96 02 00 08 04 4E 96 02 00 08 0C 1C 69 96 04 00 04 01 08 0D 4E 87 01 00 02 17 96 04 00 04 02 08 0E 8E 08 00 00 00 00 03 19 00 3C 00 96 0D 00 06 00 00 00 00 00 00 00 00 04 02 08 0E 52 17 96 06 00 04 01 08 0F 08 10 4F 96 04 00 04 01 08 11 4E 96 04 00 08 12 05 00 4F 96 04 00 04 01 08 13 4E 96 04 00 08 12 05 00 4F 4F 96 04 00 04 02 08 14 8E 0C 00 00 01 00 03 1A 00 02 69 64 00 10 00 96 0B 00 04 02 07 01 00 00 00 04 01 08 14 52 17 4F 96 04 00 04 02 08 07 8E 08 00 00 00 00 04 19 00 E5 00 96 09 00 07 00 00 00 00 04 01 08 2A 4E 96 02 00 08 2B 52 96 16 00 00 53 6F 6C 64 69 65 72 53 6C 6F 74 73 4C 69 73 74 49 74 65 6D 00 1C 96 0F 00 00 53 54 41 54 49 43 5F 48 45 49 47 48 54 00 4E 0C 87 01 00 03 17 96 04 00 04 01 08 00 4E 96 09 00 08 01 07 B7 02 00 00 04 03 47 4F 96 04 00 04 01 08 00 4E 96 14 00 08 02 06 28 DC 22 40 5C 8F C2 F5 07 00 00 00 00 04 01 08 2A 4E 96 02 00 08 2B 52 0C 96 09 00 06 CC 4C 35 40 CD CC CC CC 0B 4F 96 04 00 04 01 08 28 4E 96 09 00 08 01 07 10 00 00 00 04 03 47 4F 96 1B 00 07 00 00 00 00 04 01 00 73 65 74 4D 61 73 6B 41 6E 64 52 6F 6F 74 53 69 7A 65 00 52 17 96 0F 00 04 01 08 02 06 33 01 80 40 33 33 33 33 04 03 0B 4F 96 06 00 04 01 08 12 05 01 4F 4F 96 04 00 04 02 08 15 8E 0E 00 00 01 00 04 19 00 03 69 74 65 6D 00 74 00 96 04 00 04 01 08 16 4E 96 05 00 07 01 00 00 00 0B 96 09 00 06 00 00 00 00 00 00 00 00 49 4C 12 9D 02 00 25 00 17 96 14 00 06 00 00 00 00 00 00 00 00 06 00 00 00 00 00 00 00 00 08 17 1C 96 02 00 08 18 52 96 02 00 08 19 52 12 9D 02 00 14 00 96 0F 00 04 01 08 1A 06 00 00 00 00 00 00 00 00 08 1B 40 4F 96 0B 00 04 03 07 01 00 00 00 04 02 08 15 52 17 4F 96 04 00 04 02 08 1C 8E 4A 00 00 05 00 09 19 00 07 69 73 45 6D 70 74 79 53 6C 6F 74 00 05 73 6F 6C 64 69 65 72 4E 61 6D 65 00 06 73 6F 6C 64 69 65 72 53 74 61 74 75 73 00 08 62 75 74 74 6F 6E 4C 61 62 65 6C 00 04 69 73 44 69 73 61 62 6C 65 64 00 5E 01 96 0B 00 06 00 00 00 00 00 00 00 00 08 1D 40 87 01 00 03 17 96 06 00 04 03 08 1E 04 05 4F 96 06 00 04 03 08 1F 04 06 4F 96 06 00 04 03 08 20 04 08 4F 96 06 00 04 03 08 21 04 04 4F 96 06 00 04 03 08 22 04 07 4F 96 06 00 04 03 08 23 04 01 4F 96 04 00 04 01 08 05 4E 12 9D 02 00 34 00 96 08 00 04 03 08 24 04 01 08 25 4E 96 04 00 04 01 08 26 4E 96 02 00 08 27 4E 96 04 00 04 01 08 28 4E 96 02 00 08 27 4E 0B 0B 96 04 00 04 01 08 29 4E 47 4F 96 0D 00 06 00 00 00 00 00 00 00 00 04 01 08 2A 4E 96 02 00 08 2B 52 4B 96 09 00 07 01 00 00 00 04 01 08 2C 4E 96 02 00 08 2D 52 17 96 0D 00 06 00 00 00 00 00 00 00 00 04 01 08 2C 4E 96 02 00 08 2B 52 96 05 00 07 01 00 00 00 49 4C 12 9D 02 00 26 00 17 96 14 00 06 00 00 00 00 00 00 00 00 06 00 00 00 00 00 00 00 00 08 17 1C 96 02 00 08 18 52 96 02 00 08 19 52 12 12 9D 02 00 1D 00 96 12 00 06 00 00 00 00 00 00 00 00 07 01 00 00 00 04 01 08 2C 4E 96 02 00 08 2E 52 17 96 0F 00 04 03 06 00 00 00 00 00 00 00 00 04 01 08 2A 4E 96 02 00 08 2B 52 4B 96 04 00 04 01 08 0F 4E 96 09 00 07 03 00 00 00 04 02 08 2F 52 17 4F 96 04 00 04 02 08 30 8E 0F 00 00 01 00 03 29 00 02 6C 61 62 65 6C 00 20 00 96 04 00 04 01 08 11 4E 96 04 00 08 31 04 02 4F 96 04 00 04 01 08 11 4E 96 04 00 08 12 05 01 4F 4F 96 04 00 04 02 08 32 8E 0F 00 00 01 00 03 29 00 02 6C 61 62 65 6C 00 20 00 96 04 00 04 01 08 13 4E 96 04 00 08 31 04 02 4F 96 04 00 04 01 08 13 4E 96 04 00 08 12 05 01 4F 4F 96 09 00 04 01 08 33 07 B2 02 00 00 4F 96 09 00 04 02 08 34 07 19 00 00 00 4F 96 08 00 07 01 00 00 00 02 08 03 1C 96 02 00 08 04 4E 96 02 00 08 0D 4E 96 07 00 07 03 00 00 00 08 35 3D 17 00 
[/AFTER_HEX]
// 0x75E