MOD_NAME=Omega 13 Second Wave
AUTHOR=eclipse666
DESCRIPTION=Restarting a mission now costs credits per soldier (Default $20). The Restart Mission" function on the pause menu becomes "Activate the Omega 13". The Omega 13 is a device which can transport soldiers back in time in order to correct a mistake (inspired by the Galaxy Quest Movie). The more soldiers you have on the mission the more expensive it will be to use.

/*
This mod will auto configure the Second Wave option if installed using Long War Mod Manager.

To manuall enable the new Omega Second Wave option, please edit your XComGame.int file (<SteamApps>\common\XCom-Enemy-Unknown\XEW\XComGame\Localization\INT) 
and search for the section containing the second wave options, which looks like this:

[UIGameplayToggles]
m_strTitle="The Second Wave: Additional Gameplay Options"
m_strWarning="Note: These gameplay options will significantly alter the challenge of the game."
m_strCanNotChangeInGame="You may use the console command SetMedalPowerA ## to turn these on or off in XCOM HQ."

m_arrGameplayToggleTitle[eGO_RandomDamage]="Damage Roulette (#0)"
m_arrGameplayToggleDesc[eGO_RandomDamage]="Weapons have a much wider range of damage. Adjusted for Long War to be less extreme than vanilla."

m_arrGameplayToggleTitle[eGO_RandomFunding]="New Economy (#1)"
m_arrGameplayToggleDesc[eGO_RandomFunding]="The funding offered by individual council members is randomized."

...
m_arrGameplayToggleTitle[28]="Perfect Information (#28)"
m_arrGameplayToggleDesc[28]="You will see enemy to-hit values."

Add the following 2 lines to the end of this list:

m_arrGameplayToggleTitle[35]="Omega 13 (#35)"
m_arrGameplayToggleDesc[35]="Restarting a mission using the Omega 13 time travel device will cost credits for each soldier. Requires Bronzeman option if Ironman mode is enabled."

The default option number is 35 (the last one currently available). If you want to change this number to avoid conflicts with other
second wave mods then search this patch file for each alias definition of OMEGA13SECONDWAVEOPTIONNUMBER and change the number. (There's more than one change required!)

*/

// Auto config info for Long War Mod Manager:

/*<CONFIG>
FILENAME=XComGame\Localization\INT\XComGame.int
SECTION=UIGameplayToggles
ADDLINE=m_arrGameplayToggleTitle[35]="Omega 13 (#35)"
ADDLINE=m_arrGameplayToggleDesc[35]="Restarting a mission using the Omega 13 time travel device will cost credits for each soldier. Requires Bronzeman option if Ironman mode is enabled."
</CONFIG>*/

//This script was generated by HexToPseudoCode decompiler for use with PatchUPK/PatcherGUI tool
UPK_FILE = XComStrategyGame.upk
OBJECT = XGStrategySoldier.RebuildAfterCombat : AUTO

/************** SET COST PER SOLDIER BELOW. Default is 20. This alias is defined again later in this file for different functions - change all of them! ***********/
ALIAS=COSTPERSOLDIER:<%i 20>
/*********************************************************************/

[REPLACEMENT_CODE]
/*(0x0000/0x0000)*/ 06 [@label_0x044C] 
/*(0x0003/0x0003)*/ 1B <IsAugmented> 16 
/*(0x000D/0x000D)*/ 05 <XComGame.XGTacticalGameCoreNativeBase.TInventory.iNumLargeItems> 00 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.iNumLargeItems> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 
/*(0x0059/0x0039)*/ 0A [@label_0x0116] 2C 02 
/*(0x005E/0x003E)*/ 	0F 00 <.eMecArmor> 12 20 <XComGame.XGGameData> [@] <XComGame.XGGameData.GetConsolidatedMecItem.ReturnValue> 00 ( 1C <XComGame.XGGameData.GetConsolidatedMecItem> 38 3D 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.iArmor> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 38 3D 1A 26 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.arrLargeItems> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 4A 4A 16 ) 
/*(0x0113/0x00AB)*/ 	06 [@label_0x036A] 
/*(0x0116/0x00AE)*/ [#label_0x0116]
/*(0x0116/0x00AE)*/ 0A [@label_0x0219] 2C 03 
/*(0x011B/0x00B3)*/ 	0F 00 <.eMecArmor> 12 20 <XComGame.XGGameData> [@] <XComGame.XGGameData.GetConsolidatedMecItem.ReturnValue> 00 ( 1C <XComGame.XGGameData.GetConsolidatedMecItem> 38 3D 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.iArmor> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 38 3D 1A 26 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.arrLargeItems> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 38 3D 1A 2C 02 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.arrLargeItems> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 4A 16 ) 
/*(0x0216/0x014A)*/ 	06 [@label_0x036A] 
/*(0x0219/0x014D)*/ [#label_0x0219]
/*(0x0219/0x014D)*/ 0A [@label_0x0362] 2C 04 
/*(0x021E/0x0152)*/ 	0F 00 <.eMecArmor> 12 20 <XComGame.XGGameData> [@] <XComGame.XGGameData.GetConsolidatedMecItem.ReturnValue> 00 ( 1C <XComGame.XGGameData.GetConsolidatedMecItem> 38 3D 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.iArmor> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 38 3D 1A 26 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.arrLargeItems> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 38 3D 1A 2C 02 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.arrLargeItems> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 38 3D 1A 2C 03 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.arrLargeItems> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 16 ) 
/*(0x035F/0x0213)*/ 	06 [@label_0x036A] 
/*(0x0362/0x0216)*/ [#label_0x0362]
/*(0x0362/0x0216)*/ 0A FF FF 
/*(0x0365/0x0219)*/ 09 FD 05 00 28 
/*(0x036A/0x021E)*/ [#label_0x036A]
/*(0x036A/0x021E)*/ 0F 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.iArmor> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 01 00 <.kTransfer> 38 3A 00 <.eMecArmor> 
/*(0x03B8/0x024C)*/ 12 20 <XComGame.XGTacticalGameCoreNativeBase> [@] <XComGame.XGTacticalGameCoreNativeBase.TInventoryLargeItemsRemove.ReturnValue> 00 ( 1C <XComGame.XGTacticalGameCoreNativeBase.TInventoryLargeItemsRemove> 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 01 00 <.kTransfer> 26 93 35 <XComGame.XGTacticalGameCoreNativeBase.TInventory.iNumLargeItems> <XComGame.XGTacticalGameCoreNativeBase.TInventory> 00 00 35 <XComGame.XGTacticalGameCoreNativeBase.TCharacter.kInventory> <XComGame.XGTacticalGameCoreNativeBase.TCharacter> 00 00 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 26 16 16 ) 
/*(0x044C/0x02A4)*/ [#label_0x044C]
/*(0x044C/0x02A4)*/ 0F 01 <@m_kChar> 35 <XComGame.XComContentManager.TTransferSoldier.kChar> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 
/*(0x0472/0x02BA)*/ 0F 01 <@m_kSoldier> 35 <XComGame.XComContentManager.TTransferSoldier.kSoldier> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 
/*(0x0498/0x02D0)*/ 0F 1A 25 01 <@m_aStatModifiers> 93 35 <XComGame.XComContentManager.TTransferSoldier.iHPAfterCombat> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 1B <GetMaxStat> 25 16 16 
/*(0x04CD/0x02F5)*/ 14 2D 01 <@m_bMIA> 2D 35 <XComGame.XComContentManager.TTransferSoldier.bLeftBehind> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 
/*(0x04F5/0x030D)*/ 0F 01 <@m_strCauseOfDeath> 35 <XComGame.XComContentManager.TTransferSoldier.CauseOfDeathString> <XComGame.XComContentManager.TTransferSoldier> 00 00 00 <.kTransfer> 

07 [@skip]
	9b // != 
		7E  // instr
			// m_kSoldier.strFirstName
			35 <XComGame.XGTacticalGameCoreNativeBase.TSoldier.strFirstName> <XComGame.XGTacticalGameCoreNativeBase.TSoldier> 00 01 01 <@m_kSoldier>
			1f <%t "*">
			28  // false
			27  // true
			4A // no param
			16 
		1D // int const 
			FF FF FF FF // -1
	16 

// remove asterisk from name
0f // let
	35 <XComGame.XGTacticalGameCoreNativeBase.TSoldier.strFirstName> <XComGame.XGTacticalGameCoreNativeBase.TSoldier> 00 01 01 <@m_kSoldier>
	c9 // Repl
		35 <XComGame.XGTacticalGameCoreNativeBase.TSoldier.strFirstName> <XComGame.XGTacticalGameCoreNativeBase.TSoldier> 00 01 01 <@m_kSoldier>

		1f <%t "*">
		1f <%t "">
	16

// HQ().AddResource(0, -COSTPERSOLDIER)
19 1B <HQ> 16 [@] <NullRef> 00 ( 1B <AddResource> 24 00 
  8f  // -
    1D <!COSTPERSOLDIER> 
  16
  
  4A 16 ) 

[#skip]

/*(0x051B/0x0323)*/ 04 0B 
/*(0x051D/0x0325)*/ 53 

//This script was generated by HexToPseudoCode decompiler for use with PatchUPK/PatcherGUI tool
UPK_FILE = XComGame.upk
OBJECT = XGSummaryUI.GetSoldiersKilledFactor : AUTO

/************** SET SECOND WAVE OPTION NUMBER BELOW. Default is 35. ***********/
ALIAS=OMEGA13SECONDWAVEOPTIONNUMBER:<%b 35>
/******************************************************************************/

[REPLACEMENT_CODE]
/*(0x0000/0x0000)*/ 07 [@label_0x0119] 84 9B 19 1B <BATTLE> 16 [@] <XGBattle.m_iResult> 00 ( 01 <XGBattle.m_iResult> ) 26 16 18 [@] ( 19 1B <BATTLE> 16 [@] <XGBattle_SP.m_bAbandoned> 00 ( 2D 01 <XGBattle_SP.m_bAbandoned> ) 16 ) 
/*(0x004A/0x003A)*/ 	0F 00 <.iKilled> 19 19 19 1B <BATTLE> 16 [@] <XGBattle_SP.GetHumanPlayer.ReturnValue> 00 ( 1B <GetHumanPlayer> 16 ) [@] <XGPlayer.GetSquad.ReturnValue> 00 ( 1B <GetSquad> 16 ) [@] <XGSquadNativeBase.GetNumDead.ReturnValue> 00 ( 1B <GetNumDead> 16 ) 
/*(0x00A0/0x0080)*/ 	0F 00 <.iAbandoned> 19 19 19 1B <BATTLE> 16 [@] <XGBattle_SP.GetHumanPlayer.ReturnValue> 00 ( 1B <GetHumanPlayer> 16 ) [@] <XGPlayer.GetSquad.ReturnValue> 00 ( 1B <GetSquad> 16 ) [@] <XGSquad.GetNumOutsideDropship.ReturnValue> 00 ( 1B <GetNumOutsideDropship> 19 1B <BATTLE> 16 [@] <XGBattle_SP.m_bAbandoned> 00 ( 2D 01 <XGBattle_SP.m_bAbandoned> ) 16 ) 
/*(0x0116/0x00DE)*/ 	06 [@label_0x016F] 
/*(0x0119/0x00E1)*/ [#label_0x0119]
/*(0x0119/0x00E1)*/ 0F 00 <.iKilled> 19 19 19 1B <BATTLE> 16 [@] <XGBattle_SP.GetHumanPlayer.ReturnValue> 00 ( 1B <GetHumanPlayer> 16 ) [@] <XGPlayer.GetSquad.ReturnValue> 00 ( 1B <GetSquad> 16 ) [@] <XGSquadNativeBase.GetNumDead.ReturnValue> 00 ( 1B <GetNumDead> 16 ) 
/*(0x016F/0x0127)*/ [#label_0x016F]
/*(0x016F/0x0127)*/ 0F 00 <.iTotal> 19 19 19 1B <BATTLE> 16 [@] <XGBattle_SP.GetHumanPlayer.ReturnValue> 00 ( 1B <GetHumanPlayer> 16 ) [@] <XGPlayer.GetSquad.ReturnValue> 00 ( 1B <GetSquad> 16 ) [@] <XGSquad.GetNumPermanentMembers.ReturnValue> 00 ( 1B <GetNumPermanentMembers> 16 ) 
/*(0x01C5/0x016D)*/ 0F 00 <.iPercentageKilled> 91 90 92 00 <.iKilled> 00 <.iAbandoned> 16 2C 64 16 00 <.iTotal> 16 
/*(0x01F2/0x018A)*/ 07 [@label_0x0237] 82 9A 00 <.iPercentageKilled> 25 16 18 [@] ( 9A 19 1B <BATTLE> 16 [@] <XGBattle.m_iResult> 00 ( 01 <XGBattle.m_iResult> ) 26 16 16 ) 
/*(0x0228/0x01B4)*/ 	0F 00 <.iRating> 2C 03 
/*(0x0234/0x01BC)*/ 	06 [@label_0x027F] 
/*(0x0237/0x01BF)*/ [#label_0x0237]
/*(0x0237/0x01BF)*/ 07 [@label_0x0256] 96 00 <.iPercentageKilled> 2C 32 16 
/*(0x0247/0x01CB)*/ 	0F 00 <.iRating> 2C 02 
/*(0x0253/0x01D3)*/ 	06 [@label_0x027F] 
/*(0x0256/0x01D6)*/ [#label_0x0256]
/*(0x0256/0x01D6)*/ 07 [@label_0x0274] 96 00 <.iPercentageKilled> 2C 64 16 
/*(0x0266/0x01E2)*/ 	0F 00 <.iRating> 26 
/*(0x0271/0x01E9)*/ 	06 [@label_0x027F] 
/*(0x0274/0x01EC)*/ [#label_0x0274]
/*(0x0274/0x01EC)*/ 0F 00 <.iRating> 25 
/*(0x027F/0x01F3)*/ [#label_0x027F]
/*(0x027F/0x01F3)*/ 0F 35 <XGSummaryUI.TMissionFactor.strFactor> <@TMissionFactor> 00 01 00 <.kFactor> 01 <@m_strLabelOperativesLost> 
/*(0x02A5/0x0209)*/ 0F 35 <XGSummaryUI.TMissionFactor.iIcon> <@TMissionFactor> 00 01 00 <.kFactor> 2C 02 
/*(0x02C4/0x021C)*/ 0F 35 <XGSummaryUI.TMissionFactor.strResult> <@TMissionFactor> 00 01 00 <.kFactor> 38 53 92 00 <.iKilled> 00 <.iAbandoned> 16 
/*(0x02F7/0x023B)*/ 0F 35 <XGSummaryUI.TMissionFactor.iRating> <@TMissionFactor> 00 01 00 <.kFactor> 00 <.iRating> 
/*(0x031D/0x0251)*/ 0F 35 <XGSummaryUI.TMissionFactor.iResult> <@TMissionFactor> 00 01 00 <.kFactor> 00 <.iPercentageKilled> 
/*(0x0343/0x0267)*/ 0F 35 <XGSummaryUI.TMissionFactor.strRating> <@TMissionFactor> 00 01 00 <.kFactor> 1B <GetRatingString> 00 <.iRating> 16 
/*(0x0373/0x0287)*/ 0F 35 <XGSummaryUI.TMissionFactor.iState> <@TMissionFactor> 00 01 00 <.kFactor> 1B <GetRatingState> 00 <.iRating> 16 

07 [@skip2] 
	19 19 2E <Class.XComGameReplicationInfo> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComGameReplicationInfo.m_kGameCore> 00 ( 01 <XComGameReplicationInfo.m_kGameCore> ) [@] <XGTacticalGameCoreNativeBase.IsOptionEnabled.ReturnValue> 00 
	 ( 1B <IsOptionEnabled> 24 <!OMEGA13SECONDWAVEOPTIONNUMBER> 16 ) 

07  // jmp if not
[@skip2] // jmp to
	9b // != 
		7E  // instr
			19 01 <Engine.Actor.WorldInfo> [@] <Engine.WorldInfo.GetLocalURL.ReturnValue> 00 ( 1B <GetLocalURL> 16 ) 
			1f <%t "restart">
			28  // false
			27  // true
			4A // no param
		16 
	1D // int const 
		FF FF FF FF // -1
	16 


	0f // let
		35 <XGSummaryUI.TMissionFactor.strResult> <@TMissionFactor> 00 01 00 <.kFactor>
		70 // concat
			35 <XGSummaryUI.TMissionFactor.strResult> <@TMissionFactor> 00 01 00 <.kFactor>
			1f <%t " [OMEGA 13 USED]">
		16

[#skip2]

/*(0x03A3/0x02A7)*/ 04 00 <.kFactor> 
/*(0x03AD/0x02AD)*/ 04 3A <.ReturnValue> 
/*(0x03B7/0x02B3)*/ 53 

OBJECT = XGBattle_SP.BuildReturningDropshipSoldier : AUTO

/************** SET SECOND WAVE OPTION NUMBER BELOW. Default is 35. ***********/
ALIAS=OMEGA13SECONDWAVEOPTIONNUMBER:<%b 35>
/******************************************************************************/

[REPLACEMENT_CODE]
/*(0x0000/0x0000)*/ 0F 00 <.kSoldierChar> 2E <Class.XGCharacter_Soldier> 19 00 <.kSoldier> [@] <XGUnit.GetCharacter.ReturnValue> 00 ( 1B <GetCharacter> 16 ) 
/*(0x0032/0x0022)*/ 07 [@label_0x0073] 72 00 <.kSoldierChar> 2A 16 
/*(0x0041/0x002D)*/ 	0F 00 <.kSoldierChar> 2E <Class.XGCharacter_Tank> 19 00 <.kSoldier> [@] <XGUnit.GetCharacter.ReturnValue> 00 ( 1B <GetCharacter> 16 ) 
/*(0x0073/0x004F)*/ [#label_0x0073]
/*(0x0073/0x004F)*/ 0F 35 <XComContentManager.TTransferSoldier.kChar> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 19 00 <.kSoldierChar> [@] <XGCharacter.m_kChar> 00 ( 01 <XGCharacter.m_kChar> ) 
/*(0x00AE/0x0072)*/ 0F 35 <XComContentManager.TTransferSoldier.kSoldier> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 19 00 <.kSoldierChar> [@] <XGCharacter_Soldier.m_kSoldier> 00 ( 01 <XGCharacter_Soldier.m_kSoldier> ) 
/*(0x00E9/0x0095)*/ 0F 00 <.iHP> F9 19 00 <.kSoldier> [@] <XGUnit.m_iLowestHP> 00 ( 01 <XGUnit.m_iLowestHP> ) 19 00 <.kSoldierChar> [@] <XGCharacter.GetCharMaxStat.ReturnValue> 00 ( 1B <GetCharMaxStat> 24 00 16 ) 16 
/*(0x0134/0x00C8)*/ 07 [@label_0x0177] 81 19 00 <.kSoldier> [@] <XGUnitNativeBase.IsDeadOrDying.ReturnValue> 00 ( 1B <IsDeadOrDying> 16 ) 16 
/*(0x0158/0x00E4)*/ 	0F 00 <.iHP> FB 00 <.iHP> 26 00 <.iHP> 16 
/*(0x0177/0x00F7)*/ [#label_0x0177]
/*(0x0177/0x00F7)*/ 0F 35 <XComContentManager.TTransferSoldier.CauseOfDeathString> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 19 00 <.kSoldier> [@] <XGUnit.m_strCauseOfDeath> 00 ( 01 <XGUnit.m_strCauseOfDeath> ) 
/*(0x01B2/0x011A)*/ 07 [@label_0x0274] 82 9B 01 <XGBattle.m_iResult> 26 16 18 [@] ( 19 00 <.kSoldier> [@] <XGUnitNativeBase.IsCriticallyWounded.ReturnValue> 00 ( 1B <IsCriticallyWounded> 16 ) 16 ) 
/*(0x01E5/0x0141)*/ 	0F 00 <.iHP> 25 
/*(0x01F0/0x0148)*/ 	0F 35 <XComContentManager.TTransferSoldier.CauseOfDeathString> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 19 19 2E <Class.XComGameReplicationInfo> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComGameReplicationInfo.m_kGameCore> 00 ( 01 <XComGameReplicationInfo.m_kGameCore> ) [@] <XGTacticalGameCore.UnknownCauseOfDeathString> 00 ( 01 <XGTacticalGameCore.UnknownCauseOfDeathString> ) 
/*(0x0274/0x0198)*/ [#label_0x0274]
/*(0x0274/0x0198)*/ 07 [@label_0x0344] 19 00 <.kSoldier> [@] <XGUnit.m_bLeftBehind> 00 ( 2D 01 <XGUnit.m_bLeftBehind> ) 
/*(0x0296/0x01AE)*/ 	0F 00 <.iHP> 25 
/*(0x02A1/0x01B5)*/ 	14 2D 35 <XComContentManager.TTransferSoldier.bLeftBehind> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 27 
/*(0x02C0/0x01C8)*/ 	0F 35 <XComContentManager.TTransferSoldier.CauseOfDeathString> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 19 19 2E <Class.XComGameReplicationInfo> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComGameReplicationInfo.m_kGameCore> 00 ( 01 <XComGameReplicationInfo.m_kGameCore> ) [@] <XGTacticalGameCore.UnknownCauseOfDeathString> 00 ( 01 <XGTacticalGameCore.UnknownCauseOfDeathString> ) 
/*(0x0344/0x0218)*/ [#label_0x0344]
/*(0x0344/0x0218)*/ 07 [@label_0x055F] 82 19 1B <Desc> 16 [@] <XGBattleDesc.m_bScripted> 00 ( 2D 01 <XGBattleDesc.m_bScripted> ) 18 [@] ( 19 1B <Desc> 16 [@] <XGBattleDesc.m_bDisableSoldierChatter> 00 ( 2D 01 <XGBattleDesc.m_bDisableSoldierChatter> ) 16 ) 
/*(0x038C/0x0250)*/ 	07 [@label_0x0554] 2D 00 <.bFirstSoldier> 
/*(0x0399/0x0259)*/ 		0F 00 <.iHP> 19 00 <.kSoldierChar> [@] <XGCharacter.GetCharMaxStat.ReturnValue> 00 ( 1B <GetCharMaxStat> 24 00 16 ) 
/*(0x03C4/0x0278)*/ 		07 [@label_0x0551] 96 35 <XGTacticalGameCoreNativeBase.TSoldier.iXP> <XGTacticalGameCoreNativeBase.TSoldier> 00 00 19 00 <.kSoldierChar> [@] <XGCharacter_Soldier.m_kSoldier> 00 ( 01 <XGCharacter_Soldier.m_kSoldier> ) 19 19 2E <Class.XComGameReplicationInfo> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComGameReplicationInfo.m_kGameCore> 00 ( 01 <XComGameReplicationInfo.m_kGameCore> ) [@] <XGTacticalGameCore.GetXPRequired.ReturnValue> 00 ( 1B <GetXPRequired> 92 35 <XGTacticalGameCoreNativeBase.TSoldier.iRank> <XGTacticalGameCoreNativeBase.TSoldier> 00 00 19 00 <.kSoldierChar> [@] <XGCharacter_Soldier.m_kSoldier> 00 ( 01 <XGCharacter_Soldier.m_kSoldier> ) 26 16 16 ) 16 
/*(0x0496/0x02FE)*/ 			19 00 <.kSoldierChar> [@] <NullRef> 00 ( 1B <SetXP> 19 19 2E <Class.XComGameReplicationInfo> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComGameReplicationInfo.m_kGameCore> 00 ( 01 <XComGameReplicationInfo.m_kGameCore> ) [@] <XGTacticalGameCore.GetXPRequired.ReturnValue> 00 ( 1B <GetXPRequired> 92 35 <XGTacticalGameCoreNativeBase.TSoldier.iRank> <XGTacticalGameCoreNativeBase.TSoldier> 00 00 19 00 <.kSoldierChar> [@] <XGCharacter_Soldier.m_kSoldier> 00 ( 01 <XGCharacter_Soldier.m_kSoldier> ) 26 16 16 ) 16 ) 
/*(0x0551/0x0379)*/ 		[#label_0x0551]
/*(0x0551/0x0379)*/ 		06 [@label_0x055F] 
/*(0x0554/0x037C)*/ 	[#label_0x0554]
/*(0x0554/0x037C)*/ 	0F 00 <.iHP> 25 
/*(0x055F/0x0383)*/ [#label_0x055F]
/*(0x055F/0x0383)*/ 0F 35 <XComContentManager.TTransferSoldier.iHPAfterCombat> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 00 <.iHP> 
/*(0x0585/0x0399)*/ 0F 35 <XComContentManager.TTransferSoldier.iCriticalWoundsTaken> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 1A 2C 0F 19 00 <.kSoldier> [@] <XGUnitNativeBase.m_aCurrentStats> 00 ( 01 <XGUnitNativeBase.m_aCurrentStats> ) 
/*(0x05C3/0x03BF)*/ 0F 1A 2C 0F 35 <XGTacticalGameCoreNativeBase.TCharacter.aStats> <XGTacticalGameCoreNativeBase.TCharacter> 00 01 35 <XComContentManager.TTransferSoldier.kChar> <XComContentManager.TTransferSoldier> 00 00 00 <.kTransferSoldier> 1A 2C 0F 19 00 <.kSoldier> [@] <XGUnitNativeBase.m_aCurrentStats> 00 ( 01 <XGUnitNativeBase.m_aCurrentStats> ) 

// check if second wave option enabled

07 [@skip3] 
	19 19 2E <Class.XComGameReplicationInfo> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComGameReplicationInfo.m_kGameCore> 00 ( 01 <XComGameReplicationInfo.m_kGameCore> ) [@] <XGTacticalGameCoreNativeBase.IsOptionEnabled.ReturnValue> 00 
	 ( 1B <IsOptionEnabled> 24 <!OMEGA13SECONDWAVEOPTIONNUMBER> 16 ) 

07  // jmp if not
[@skip3] // jmp to
	9b // != 
		7E  // instr
			19 01 <Engine.Actor.WorldInfo> [@] <Engine.WorldInfo.GetLocalURL.ReturnValue> 00 ( 1B <GetLocalURL> 16 ) 
			
			1f <%t "restart">
			28  // false
			27  // true
			4A // no param
		16 
		1D // int const 
			FF FF FF FF // -1
	16 

	0f // let
	    35 <XGTacticalGameCoreNativeBase.TSoldier.strFirstName> <XGTacticalGameCoreNativeBase.TSoldier> 00 00 35 <XComContentManager.TTransferSoldier.kSoldier> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 
	
		70 // concat
			35 <XGTacticalGameCoreNativeBase.TSoldier.strFirstName> <XGTacticalGameCoreNativeBase.TSoldier> 00 00 35 <XComContentManager.TTransferSoldier.kSoldier> <XComContentManager.TTransferSoldier> 00 01 00 <.kTransferSoldier> 

			1f <%t "*">
		16 // end concat func

[#skip3]
/*(0x0617/0x03F3)*/ 04 00 <.kTransferSoldier> 
/*(0x0621/0x03F9)*/ 04 3A <.ReturnValue> 
/*(0x062B/0x03FF)*/ 53 

//This script was generated by HexToPseudoCode decompiler for use with PatchUPK/PatcherGUI tool
UPK_FILE = XComGame.upk
OBJECT = UIPauseMenu.BuildMenu : AUTO

/************** SET SECOND WAVE OPTION NUMBER BELOW. Default is 35. ***********/
ALIAS=OMEGA13SECONDWAVEOPTIONNUMBER:<%b 35>
/******************************************************************************/

[REPLACEMENT_CODE]
/*(0x0000/0x0000)*/ 0F 00 <.kMPGRI> 2E <Class.XComMPTacticalGRI> 19 01 <Engine.Actor.WorldInfo> [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) 
/*(0x0031/0x001D)*/ 1B <AS_SetTitle> 01 <@m_sPauseMenu> 16 
/*(0x0044/0x002C)*/ 1B <AS_Clear> 16 
/*(0x004E/0x0036)*/ 0F 00 <.iCurrent> 25 
/*(0x0059/0x003D)*/ 0F 01 <@m_optSave> 1D <%i -1> 
/*(0x0068/0x0048)*/ 0F 01 <@m_optLoad> 1D <%i -1> 
/*(0x0077/0x0053)*/ 0F 01 <@m_optReturnToGame> A5 00 <.iCurrent> 16 
/*(0x008C/0x0060)*/ 1B <AS_AddOption> 01 <@m_optReturnToGame> 01 <@m_sReturnToGame> 25 16 
/*(0x00A9/0x0075)*/ 07 [@label_0x0178] 72 00 <.kMPGRI> 2A 16 
/*(0x00B8/0x0080)*/ 	07 [@label_0x0107] 2D 01 <@m_bIsIronman> 
/*(0x00C5/0x0089)*/ 		07 [@label_0x0104] 2D 01 <@m_bAllowSaving> 
/*(0x00D2/0x0092)*/ 			0F 01 <@m_optSave> A5 00 <.iCurrent> 16 
/*(0x00E7/0x009F)*/ 			1B <AS_AddOption> 01 <@m_optSave> 01 <@m_sSaveAndExitGame> 25 16 
/*(0x0104/0x00B4)*/ 		[#label_0x0104]
/*(0x0104/0x00B4)*/ 		06 [@label_0x0178] 
/*(0x0107/0x00B7)*/ 	[#label_0x0107]
/*(0x0107/0x00B7)*/ 	07 [@label_0x0146] 2D 01 <@m_bAllowSaving> 
/*(0x0114/0x00C0)*/ 		0F 01 <@m_optSave> A5 00 <.iCurrent> 16 
/*(0x0129/0x00CD)*/ 		1B <AS_AddOption> 01 <@m_optSave> 01 <@m_sSaveGame> 25 16 
/*(0x0146/0x00E2)*/ 	[#label_0x0146]
/*(0x0146/0x00E2)*/ 	0F 01 <@m_optLoad> A5 00 <.iCurrent> 16 
/*(0x015B/0x00EF)*/ 	1B <AS_AddOption> 01 <@m_optLoad> 01 <@m_sLoadGame> 25 16 
/*(0x0178/0x0104)*/ [#label_0x0178]
/*(0x0178/0x0104)*/ 07 [@label_0x01AC] 19 01 <UI_FxsPanel.manager> [@] <UIFxsMovie.IsMouseActive.ReturnValue> 00 ( 1B <IsMouseActive> 16 ) 
/*(0x019A/0x011E)*/ 	0F 01 <@m_optControllerMap> 1D <%i -1> 
/*(0x01A9/0x0129)*/ 	06 [@label_0x01DE] 
/*(0x01AC/0x012C)*/ [#label_0x01AC]
/*(0x01AC/0x012C)*/ 0F 01 <@m_optControllerMap> A5 00 <.iCurrent> 16 
/*(0x01C1/0x0139)*/ 1B <AS_AddOption> 01 <@m_optControllerMap> 01 <@m_sControllerMap> 25 16 
/*(0x01DE/0x014E)*/ [#label_0x01DE]
/*(0x01DE/0x014E)*/ 0F 01 <@m_optOptions> A5 00 <.iCurrent> 16 
/*(0x01F3/0x015B)*/ 1B <AS_AddOption> 01 <@m_optOptions> 01 <@m_sInputOptions> 25 16 
/*(0x0210/0x0170)*/ 07 [@label_0x043B] 72 00 <.kMPGRI> 2A 16 
/*(0x021F/0x017B)*/ 	07 [@label_0x043B] 77 2E <Class.XComPresentationLayer> 19 01 <UI_FxsPanel.controllerRef> [@] <XComPlayerController.m_Pres> 00 ( 01 <XComPlayerController.m_Pres> ) 2A 16 
/*(0x024C/0x0198)*/ 		07 [@label_0x043B] 84 81 2D 01 <@m_bIsIronman> 16 18 [@] ( 19 19 2E <Class.XComGameReplicationInfo> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComGameReplicationInfo.m_kGameCore> 00 ( 01 <XComGameReplicationInfo.m_kGameCore> ) [@] <XGTacticalGameCoreNativeBase.IsOptionEnabled.ReturnValue> 00 ( 1B <IsOptionEnabled> 24 10 16 ) 16 ) 
/*(0x02CA/0x01EE)*/ 			0F 01 <@m_optRestart> A5 00 <.iCurrent> 16 
	 
[#notomega13]
	1B <AS_AddOption> 01 <@m_optRestart> 
		01 <@m_sRestartLevel> 
		25 
	16 

[#skip5]

/*(0x0438/0x034C)*/ 			06 [@label_0x044A] 
/*(0x043B/0x034F)*/ [#label_0x043B]
/*(0x043B/0x034F)*/ 0F 01 <@m_optRestart> 1D <%i -1> 
/*(0x044A/0x035A)*/ [#label_0x044A]
/*(0x044A/0x035A)*/ 07 [@label_0x04CE] 82 9B 38 3A 19 19 01 <UI_FxsPanel.controllerRef> [@] <XComPlayerController.m_Pres> 00 ( 01 <XComPlayerController.m_Pres> ) [@] <XComPresentationLayerBase.m_eUIMode> 00 ( 01 <XComPresentationLayerBase.m_eUIMode> ) 38 3A 24 01 16 18 [@] ( 72 00 <.kMPGRI> 2A 16 16 ) 
/*(0x0499/0x0391)*/ 	0F 01 <@m_optChangeDifficulty> A5 00 <.iCurrent> 16 
/*(0x04AE/0x039E)*/ 	1B <AS_AddOption> 01 <@m_optChangeDifficulty> 01 <@m_sChangeDifficulty> 25 16 
/*(0x04CB/0x03B3)*/ 	06 [@label_0x04DD] 
/*(0x04CE/0x03B6)*/ [#label_0x04CE]
/*(0x04CE/0x03B6)*/ 0F 01 <@m_optChangeDifficulty> 1D <%i -1> 
/*(0x04DD/0x03C1)*/ [#label_0x04DD]
/*(0x04DD/0x03C1)*/ 07 [@label_0x05CF] 82 82 19 19 2E <Class.XComOnlineProfileSettings> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetEngine.ReturnValue> 00 ( 1C <Engine.Engine.GetEngine> 16 ) [@] <Engine.Engine.GetProfileSettings.ReturnValue> 00 ( 1B <GetProfileSettings> 16 ) [@] <XComOnlineProfileSettings.Data> 00 ( 01 <XComOnlineProfileSettings.Data> ) [@] <XComOnlineProfileSettingsDataBlob.IsSecondWaveUnlocked.ReturnValue> 00 ( 1B <IsSecondWaveUnlocked> 16 ) 18 [@] ( 9B 38 3A 19 19 01 <UI_FxsPanel.controllerRef> [@] <XComPlayerController.m_Pres> 00 ( 01 <XComPlayerController.m_Pres> ) [@] <XComPresentationLayerBase.m_eUIMode> 00 ( 01 <XComPresentationLayerBase.m_eUIMode> ) 38 3A 24 01 16 16 ) 18 [@] ( 72 00 <.kMPGRI> 2A 16 16 ) 
/*(0x059A/0x0446)*/ 	0F 01 <@m_optViewSecondWave> A5 00 <.iCurrent> 16 
/*(0x05AF/0x0453)*/ 	1B <AS_AddOption> 01 <@m_optViewSecondWave> 01 <@m_sViewSecondWave> 25 16 
/*(0x05CC/0x0468)*/ 	06 [@label_0x05DE] 
/*(0x05CF/0x046B)*/ [#label_0x05CF]
/*(0x05CF/0x046B)*/ 0F 01 <@m_optViewSecondWave> 1D <%i -1> 
/*(0x05DE/0x0476)*/ [#label_0x05DE]
/*(0x05DE/0x0476)*/ 07 [@label_0x0970] 77 2E <Class.XComPresentationLayer> 19 01 <UI_FxsPanel.controllerRef> [@] <XComPlayerController.m_Pres> 00 ( 01 <XComPlayerController.m_Pres> ) 2A 16 
/*(0x060B/0x0493)*/ 	07 [@label_0x094F] 82 82 82 82 77 2E <Class.XGBattle_SP> 19 2E <Class.XComTacticalGRI> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComTacticalGRI.m_kBattle> 00 ( 01 <XComTacticalGRI.m_kBattle> ) 2A 16 18 [@] ( 82 9B 19 19 2E <Class.XGBattle_SP> 19 2E <Class.XComTacticalGRI> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComTacticalGRI.m_kBattle> 00 ( 01 <XComTacticalGRI.m_kBattle> ) [@] <XGBattle.m_kDesc> 00 ( 01 <XGBattle.m_kDesc> ) [@] <XGBattleDesc.m_iMissionType> 00 ( 01 <XGBattleDesc.m_iMissionType> ) 2C 0A 16 18 [@] ( 81 19 19 2E <Class.XGBattle_SP> 19 2E <Class.XComTacticalGRI> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComTacticalGRI.m_kBattle> 00 ( 01 <XComTacticalGRI.m_kBattle> ) [@] <XGBattle.m_kDesc> 00 ( 01 <XGBattle.m_kDesc> ) [@] <XGBattleDesc.m_bIsFirstMission> 00 ( 2D 01 <XGBattleDesc.m_bIsFirstMission> ) 16 16 ) 16 ) 18 [@] ( 81 19 19 2E <Class.XGBattle_SP> 19 2E <Class.XComTacticalGRI> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComTacticalGRI.m_kBattle> 00 ( 01 <XComTacticalGRI.m_kBattle> ) [@] <XGBattle.m_kDesc> 00 ( 01 <XGBattle.m_kDesc> ) [@] <XGBattleDesc.m_bIsTutorial> 00 ( 2D 01 <XGBattleDesc.m_bIsTutorial> ) 16 16 ) 18 [@] ( 9B 19 19 2E <Class.XGBattle_SP> 19 2E <Class.XComTacticalGRI> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComTacticalGRI.m_kBattle> 00 ( 01 <XComTacticalGRI.m_kBattle> ) [@] <XGBattle.m_kDesc> 00 ( 01 <XGBattle.m_kDesc> ) [@] <XGBattleDesc.m_iMissionType> 00 ( 01 <XGBattleDesc.m_iMissionType> ) 2C 07 16 16 ) 18 [@] ( 9A 19 2E <Class.XGBattle_SP> 19 2E <Class.XComTacticalGRI> 19 12 20 <Engine.Engine> [@] <Engine.Engine.GetCurrentWorldInfo.ReturnValue> 00 ( 1C <Engine.Engine.GetCurrentWorldInfo> 16 ) [@] <Engine.WorldInfo.GRI> 00 ( 01 <Engine.WorldInfo.GRI> ) [@] <XComTacticalGRI.m_kBattle> 00 ( 01 <XComTacticalGRI.m_kBattle> ) [@] <XGBattle.m_iResult> 00 ( 01 <XGBattle.m_iResult> ) 25 16 16 ) 
/*(0x091A/0x0682)*/ 		0F 01 <@m_optAbortMission> A5 00 <.iCurrent> 16 
/*(0x092F/0x068F)*/ 		1B <AS_AddOption> 01 <@m_optAbortMission> 01 <@m_sAbortMission> 25 16 
/*(0x094C/0x06A4)*/ 		06 [@label_0x095E] 
/*(0x094F/0x06A7)*/ 	[#label_0x094F]
/*(0x094F/0x06A7)*/ 	0F 01 <@m_optAbortMission> 1D <%i -1> 
/*(0x095E/0x06B2)*/ 	[#label_0x095E]
/*(0x095E/0x06B2)*/ 	0F 01 <@m_optXComDatabase> 1D <%i -1> 
/*(0x096D/0x06BD)*/ 	06 [@label_0x09A2] 
/*(0x0970/0x06C0)*/ [#label_0x0970]
/*(0x0970/0x06C0)*/ 0F 01 <@m_optXComDatabase> A5 00 <.iCurrent> 16 
/*(0x0985/0x06CD)*/ 1B <AS_AddOption> 01 <@m_optXComDatabase> 01 <@m_sXComDatabase> 25 16 
/*(0x09A2/0x06E2)*/ [#label_0x09A2]
/*(0x09A2/0x06E2)*/ 07 [@label_0x09E3] 81 2D 01 <@m_bIsIronman> 16 
/*(0x09B1/0x06ED)*/ 	0F 01 <@m_optExitGame> A5 00 <.iCurrent> 16 
/*(0x09C6/0x06FA)*/ 	1B <AS_AddOption> 01 <@m_optExitGame> 01 <@m_sExitGame> 25 16 
/*(0x09E3/0x070F)*/ [#label_0x09E3]
/*(0x09E3/0x070F)*/ 07 [@label_0x0A5A] 82 81 19 01 <Engine.Actor.WorldInfo> [@] <Engine.WorldInfo.IsConsoleBuild.ReturnValue> 00 ( 1C <Engine.WorldInfo.IsConsoleBuild> 4A 16 ) 16 18 [@] ( 72 00 <.kMPGRI> 2A 16 16 ) 
/*(0x0A19/0x0735)*/ 	07 [@label_0x0A5A] 81 2D 01 <@m_bIsIronman> 16 
/*(0x0A28/0x0740)*/ 		0F 01 <@m_optQuitGame> A5 00 <.iCurrent> 16 
/*(0x0A3D/0x074D)*/ 		1B <AS_AddOption> 01 <@m_optQuitGame> 01 <@m_sQuitGame> 25 16 
/*(0x0A5A/0x0762)*/ [#label_0x0A5A]
/*(0x0A5A/0x0762)*/ 0F 01 <@MAX_OPTIONS> 00 <.iCurrent> 
/*(0x0A6D/0x076D)*/ 04 0B 
/*(0x0A6F/0x076F)*/ 53 

OBJECT = UIPauseMenu.RestartMissionDialogue : AUTO
/************** SET SECOND WAVE OPTION NUMBER BELOW. Default is 35. ***********/
ALIAS=OMEGA13SECONDWAVEOPTIONNUMBER:<%b 35>
/******************************************************************************/

/************** SET COST PER SOLDIER BELOW. Default is 20. This alias is defined again earlier in this file for a different function - change it there too! ***********/
ALIAS=COSTPERSOLDIER:<%i 20>
/*********************************************************************/

[#skip]

/*(0x006B/0x003F)*/ 0F 35 <UIDialogueBox.TDialogueBoxData.strAccept> <UIDialogueBox.TDialogueBoxData> 00 01 00 <.kDialogData> 01 <@m_sAccept> 
/*(0x0091/0x0055)*/ 0F 35 <UIDialogueBox.TDialogueBoxData.strCancel> <UIDialogueBox.TDialogueBoxData> 00 01 00 <.kDialogData> 01 <@m_sCancel> 
/*(0x00B7/0x006B)*/ 44 35 <UIDialogueBox.TDialogueBoxData.fnCallback> <UIDialogueBox.TDialogueBoxData> 00 01 00 <.kDialogData> 43 <RestartMissionDialgoueCallback> <NullRef> 
/*(0x00E5/0x0089)*/ 19 19 01 <UI_FxsPanel.controllerRef> [@] <XComPlayerController.m_Pres> 00 ( 01 <XComPlayerController.m_Pres> ) [@] <NullRef> 00 ( 1B <UIRaiseDialog> 00 <.kDialogData> 16 ) 
/*(0x0122/0x00B2)*/ 04 0B 
/*(0x0124/0x00B4)*/ 53 